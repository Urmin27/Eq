<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Site d'Investissement</title>
  <style>
    /* Preloader Styles */
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #222; /* Acceuil: background tsy fotsy */
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .preloader-content {
      font-size: 1rem; /* Kely kokoa */
      font-weight: bold;
      padding: 20px 40px;
      border: 4px solid;
      border-radius: 10px;
      background-color: #fff; /* Ity ilay cadre fotsy ao amin'ny preloader */
      color: #000;
      animation: textBorderCycle 10s linear forwards;
    }
    
    @keyframes textBorderCycle {
      0%   { border-color: #ff0000; }
      25%  { border-color: #00ff00; }
      50%  { border-color: #0000ff; }
      75%  { border-color: #ff00ff; }
      100% { border-color: #ff0000; }
    }
    
    /* Reset CSS */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Arial', sans-serif;
      background-color: #222; /* Acceuil: background tsy fotsy */
      color: #333;
      line-height: 1.6;
      padding: 20px;
      transition: background-color 0.5s ease;
    }
    
    h2 {
      margin-bottom: 20px;
      font-size: 24px;
      text-align: center;
    }
    
    /* Ireo fanovàna: tsy misy background fotsy intsony */
    section {
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
    
    /* Loko manokana isaky ny section */
    #minage {
      background-color: #1abc9c; /* Teal */
      color: #fff;
    }
    
    #transaction {
      background-color: #3498db; /* Manga */
      color: #fff;
    }
    
    #confirmation {
      background-color: #9b59b6; /* Volontany */
      color: #fff;
    }
    
    #historique {
      background-color: #e67e22; /* Mena voa */
      color: #fff;
    }
    
    /* Ireo "cards" ao anaty section dia ovaina fa tsy fotsy */
    .solde {
      background-color: #bdc3c7;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      text-align: center;
      color: #333;
    }
    
    .formulaire {
      background-color: #bdc3c7;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
      color: #333;
    }
    
    .cadre {
      background-color: #bdc3c7;
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    button {
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }
    
    button:hover {
      background-color: #0056b3;
    }
    
    .hidden {
      display: none;
    }
    
    input, select {
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    
    th, td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: left;
    }
    
    th {
      background-color: #007bff;
      color: #fff;
    }
    
    tr:nth-child(even) {
      background-color: #95a5a6;
    }
    
    tr:hover {
      background-color: #7f8c8d;
    }
    
    /* Notification de transaction */
    #transactionNotif {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #28a745;
      color: #fff;
      padding: 10px 20px;
      border-radius: 5px;
      z-index: 1000;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    /* Bouton Service Client */
    #serviceClient {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      overflow: hidden;
      cursor: pointer;
      z-index: 1001;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    #serviceClient img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
    
      h2 {
        font-size: 20px;
      }
    
      button {
        width: 100%;
        margin-bottom: 10px;
      }
    
      .cadre .liste-container {
        flex-direction: column;
      }
    
      .cadre .copy-btn {
        width: 100%;
      }
    }
  </style> 
</head>
<body>
  <!-- Preloader -->
  <div id="preloader">
    <div class="preloader-content">EVO FINANCE INVESTISSEMENT</div>
  </div>

  <!-- Notification de transaction -->
  <div id="transactionNotif" class="hidden"></div>
  
  <!-- Bouton Service Client (lien vers Facebook) -->
  <div id="serviceClient">
    <a href="https://www.facebook.com/profile.php?id=61573270100474" target="_blank">
      <img src="https://img.icons8.com/fluency/48/000000/customer-support.png" alt="Service Client">
    </a>
  </div>
  
  <!-- Section 1: Minage Automatique -->
  <section id="minage">
    <h2>MINAGE AUTOMATIQUE</h2>
    <div class="solde">
      <p>Solde du dépôt: <span id="soldeDepot">0</span>$</p>
      <p>Solde du gains: <span id="soldeGains">0</span>$</p>
    </div>
    <button id="commencerContrat">Commencer le contrat</button>
    <div id="notification" class="hidden">Le robot est en train de miner...</div>
    <div id="tempsRestant" style="margin-top: 10px; font-size: 14px;">
      Temps restant: 0j 0h 0m 0s
    </div>
  </section>
  
  <!-- Section 2: Transaction -->
  <section id="transaction">
    <h2>TRANSACTION</h2>
    <div class="boutons">
      <button id="boutonRetrait">Retrait</button>
      <button id="boutonDepot">Dépôt</button>
    </div>
    <!-- Formulaire Retrait -->
    <div id="formRetrait" class="formulaire hidden">
      <input type="number" id="montantRetrait" placeholder="Montant">
      <input type="text" id="adresseRetrait" placeholder="Adresse du retrait">
      <button id="validerRetrait">Valider un retrait</button>
    </div>
    <!-- Formulaire Dépôt -->
    
    <div id="formDepot" class="formulaire hidden">
      <input type="number" id="montantDepot" placeholder="Montant">
      <div class="cadre" tabindex="0">
        Choisissez un adresse 👇  
        <div class="liste-container">
          <select id="adresse">
            <option value="0x45837bda9f3684c5f1ca603b71abe18e07d8de0d">USDT BEP20 : 2.5$ minimun depot</option>
            <option value="0x45837bda9f3684c5f1ca603b71abe18e07d8de0d">BNB-BEP20 :</option>
            <option value="P1121911473">PAYEER :2.5$ minimun depot</option>
          </select>
          <button class="copy-btn" onclick="copySelected()">Copier</button>
        </div>
      </div>
      <button id="validerDepot">Valider un dépôt</button>
    </div>
  </section>
  
  <!-- Section 3: Confirmation -->
  <section id="confirmation">
    <h2>CONFIRMATION</h2>
    <div id="tableauConfirmation">
      <p>Code d'accès: <input type="password" id="codeAcces" placeholder="S'il vous plaît, entrez votre code d'activation"></p>
      <button id="ouvrirTableau">Ouvrir le tableau</button>
      <table id="tableauTransactions" class="hidden">
        <thead>
          <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Montant</th>
            <th>Date</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>
  
  <!-- Section 4: Historique -->
  <section id="historique">
    <h2>HISTORIQUE</h2>
    <table id="tableauHistorique">
      <thead>
        <tr>
          <th>ID</th>
          <th>Type</th>
          <th>Date</th>
          <th>Montant</th>
          <th>Statut</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>
  
  <script>
    // Preloader: aorian'ny 10s, afeno ny preloader ary ovaina ny background color ny body
    window.addEventListener('load', function() {
      setTimeout(function() {
        const preloader = document.getElementById('preloader');
        preloader.style.opacity = '0';
        setTimeout(function() {
          preloader.style.display = 'none';
          // Ovaina ny background color ny body rehefa miala ny preloader
          document.body.style.backgroundColor = '#34495e';
        }, 500);
      }, 10000);
    });
  
    // ============================================
    //         FONCTIONS DE BASE & VARIABLES
    // ============================================
    let soldeDepot       = parseFloat(localStorage.getItem('soldeDepot')) || 0;
    let soldeGains       = parseFloat(localStorage.getItem('soldeGains')) || 0;
    let transactions     = JSON.parse(localStorage.getItem('transactions')) || [];
    let historique       = JSON.parse(localStorage.getItem('historique')) || [];
    let timer; 
    let dernierDepotDate = localStorage.getItem('dernierDepotDate') || null;
    let dateDebutContrat = localStorage.getItem('dateDebutContrat') || null;
    let tempsRestant     = parseInt(localStorage.getItem('tempsRestant')) || 0;
    const tempsTotal     = 2506000; // 2 506 000 secondes
  
    // ============================================
    //         ÉLÉMENTS DU DOM
    // ============================================
    const soldeDepotElement   = document.getElementById('soldeDepot');
    const soldeGainsElement   = document.getElementById('soldeGains');
    const notificationElement = document.getElementById('notification');
    const boutonContrat       = document.getElementById('commencerContrat');
    const formRetrait         = document.getElementById('formRetrait');
    const formDepot           = document.getElementById('formDepot');
    const tableauTransactions = document.getElementById('tableauTransactions');
    const tableauHistorique   = document.getElementById('tableauHistorique').querySelector('tbody');
    const tempsRestantElement = document.getElementById('tempsRestant');
    const transactionNotif    = document.getElementById('transactionNotif');
  
    soldeDepotElement.textContent = soldeDepot.toFixed(2);
    soldeGainsElement.textContent = soldeGains.toFixed(2);
  
    // ============================================
    //         GESTION DU TEMPS RESTANT
    // ============================================
    function afficherTempsRestant(seconds) {
      const jours    = Math.floor(seconds / (60 * 60 * 24));
      const heures   = Math.floor((seconds % (60 * 60 * 24)) / (60 * 60));
      const minutes  = Math.floor((seconds % (60 * 60)) / 60);
      const secondes = Math.floor(seconds % 60);
      tempsRestantElement.textContent = `${jours}j ${heures}h ${minutes}m ${secondes}s`;
    }
  
    function mettreAJourTempsRestant() {
      if (dateDebutContrat) {
        const tempsEcoule = Math.floor((Date.now() - parseInt(dateDebutContrat)) / 1000);
        tempsRestant = tempsTotal - tempsEcoule;
        if (tempsRestant > 0) {
          afficherTempsRestant(tempsRestant);
          localStorage.setItem('tempsRestant', tempsRestant);
        } else {
          afficherTempsRestant(0);
          const gains = soldeDepot * 0.055;
          soldeGains += gains;
          soldeGainsElement.textContent = soldeGains.toFixed(2);
          notificationElement.classList.add('hidden');
          boutonContrat.disabled = false;
          localStorage.setItem('soldeGains', soldeGains);
          localStorage.removeItem('dateDebutContrat');
          localStorage.removeItem('tempsRestant');
          clearInterval(timer);
        }
      }
    }
  
    if (dateDebutContrat) {
      const tempsEcoule = Math.floor((Date.now() - parseInt(dateDebutContrat)) / 1000);
      if (tempsEcoule < tempsTotal) {
        notificationElement.classList.remove('hidden');
        boutonContrat.disabled = true;
        tempsRestant = tempsTotal - tempsEcoule;
        afficherTempsRestant(tempsRestant);
        timer = setInterval(mettreAJourTempsRestant, 1000);
      } else {
        const gains = soldeDepot * 0.055;
        soldeGains += gains;
        soldeGainsElement.textContent = soldeGains.toFixed(2);
        notificationElement.classList.add('hidden');
        boutonContrat.disabled = false;
        localStorage.setItem('soldeGains', soldeGains);
        localStorage.removeItem('dateDebutContrat');
        localStorage.removeItem('tempsRestant');
        afficherTempsRestant(0);
      }
    }
  
    // ============================================
    //         GESTION DES NOTIFICATIONS
    // ============================================
    function showNotification(message, duration = 3000) {
      transactionNotif.textContent = message;
      transactionNotif.classList.remove('hidden');
      setTimeout(() => {
        transactionNotif.classList.add('hidden');
      }, duration);
    }
  
    // ============================================
    //         GÉNÉRATION D'ID UNIQUE
    // ============================================
    function generateTransactionId() {
      let id;
      do {
        id = '5' + Math.floor(Math.random() * 1000000);
      } while (transactions.find(t => t.id === id));
      return id;
    }
  
    // ============================================
    //         DÉMARRER LE CONTRAT
    // ============================================
    boutonContrat.addEventListener('click', () => {
      if (soldeDepot > 0) {
        notificationElement.classList.remove('hidden');
        boutonContrat.disabled = true;
        dateDebutContrat = Date.now();
        localStorage.setItem('dateDebutContrat', dateDebutContrat);
        tempsRestant = tempsTotal;
        localStorage.setItem('tempsRestant', tempsRestant);
        afficherTempsRestant(tempsRestant);
        timer = setInterval(mettreAJourTempsRestant, 1000);
      } else {
        alert('Veuillez déposer un montant pour commencer.');
      }
    });
  
    // ============================================
    //         GESTION DES FORMULAIRES
    // ============================================
    document.getElementById('boutonRetrait').addEventListener('click', () => {
      formRetrait.classList.remove('hidden');
      formDepot.classList.add('hidden');
    });
  
    document.getElementById('boutonDepot').addEventListener('click', () => {
      formDepot.classList.remove('hidden');
      formRetrait.classList.add('hidden');
    });
  
    document.getElementById('validerRetrait').addEventListener('click', () => {
      const montant = parseFloat(document.getElementById('montantRetrait').value);
      if (montant >= 1 && montant <= soldeGains) {
        soldeGains -= montant * 1.01; // Frais de 1%
        soldeGainsElement.textContent = soldeGains.toFixed(2);
        showNotification("Votre retrait est en attente. Veuillez contacter le service client pour obtenir le code de confirmation.", 3000);
        ajouterTransaction('retrait', montant);
        formRetrait.classList.add('hidden');
        localStorage.setItem('soldeGains', soldeGains);
      } else {
        alert('Montant invalide ou solde insuffisant.');
      }
    });
  
    document.getElementById('validerDepot').addEventListener('click', () => {
      const aujourdHui = new Date().toLocaleDateString();
      if (dernierDepotDate === aujourdHui) {
        alert('Vous ne pouvez faire qu\'un dépôt par jour.');
        return;
      }
      const montant = parseFloat(document.getElementById('montantDepot').value);
      if (montant >= 2.5) {
        showNotification("Votre dépôt est en attente. Veuillez contacter le service client pour obtenir le code de confirmation.", 3000);
        ajouterTransaction('dépôt', montant);
        formDepot.classList.add('hidden');
        dernierDepotDate = aujourdHui;
        localStorage.setItem('dernierDepotDate', dernierDepotDate);
      } else {
        alert('Le montant minimum est de 2,5$.');
      }
    });
  
    // ============================================
    //         AJOUTER UNE TRANSACTION
    // ============================================
    function ajouterTransaction(type, montant) {
      const id = generateTransactionId();
      const dateTransaction = new Date().toLocaleString();
      transactions.push({ id, type, montant, date: dateTransaction });
      localStorage.setItem('transactions', JSON.stringify(transactions));
      afficherTransactions();
    }
  
    // ============================================
    //         AFFICHER LES TRANSACTIONS
    // ============================================
    function afficherTransactions() {
      const tbody = tableauTransactions.querySelector('tbody');
      tbody.innerHTML = '';
      transactions.forEach(transaction => {
        const row = `<tr>
            <td>${transaction.id}</td>
            <td>${transaction.type}</td>
            <td>${transaction.montant}$</td>
            <td>${transaction.date}</td>
            <td>
              <button onclick="confirmerTransaction('${transaction.id}')">Confirmer</button>
              <button onclick="annulerTransaction('${transaction.id}')">Annuler</button>
            </td>
          </tr>`;
        tbody.innerHTML += row;
      });
    }
  
    // ============================================
    //         CONFIRMER UNE TRANSACTION
    // ============================================
    function confirmerTransaction(id) {
      const code = prompt('Entrez le code d\'accès:');
      if (code === '1234') {
        const transaction = transactions.find(t => t.id === id);
        if (transaction) {
          const alreadyConfirmed = historique.some(entry => entry.id === id && entry.statut === 'Succès');
          if (!alreadyConfirmed) {
            if (transaction.type === 'dépôt') {
              soldeDepot += transaction.montant;
              soldeDepotElement.textContent = soldeDepot.toFixed(2);
              localStorage.setItem('soldeDepot', soldeDepot);
            }
            historique.push({ ...transaction, date: new Date().toLocaleString(), statut: 'Succès' });
            localStorage.setItem('historique', JSON.stringify(historique));
            showNotification("Transaction acceptée", 3000);
            afficherHistorique();
          } else {
            alert('Cette transaction a déjà été confirmée.');
          }
        }
      } else {
        alert('Code d\'accès incorrect.');
      }
    }
    window.confirmerTransaction = confirmerTransaction;
  
    // ============================================
    //         ANNULER UNE TRANSACTION
    // ============================================
    function annulerTransaction(id) {
      if (confirm('Voulez-vous annuler cette transaction ?')) {
        const index = transactions.findIndex(t => t.id === id);
        if (index !== -1) {
          const transaction = transactions[index];
          historique.push({ ...transaction, date: new Date().toLocaleString(), statut: 'Annulé' });
          localStorage.setItem('historique', JSON.stringify(historique));
          transactions.splice(index, 1);
          localStorage.setItem('transactions', JSON.stringify(transactions));
          showNotification("Transaction annulée", 3000);
          afficherTransactions();
          afficherHistorique();
        }
      }
    }
    window.annulerTransaction = annulerTransaction;
  
    // ============================================
    //         AFFICHER L'HISTORIQUE
    // ============================================
    function afficherHistorique() {
      tableauHistorique.innerHTML = '';
      historique.forEach(entry => {
        const row = `<tr>
            <td>${entry.id}</td>
            <td>${entry.type}</td>
            <td>${entry.date}</td>
            <td>${entry.montant}$</td>
            <td>${entry.statut}</td>
          </tr>`;
        tableauHistorique.innerHTML += row;
      });
    }
    afficherHistorique();
  
    // ============================================
    //         OUVRIR LE TABLEAU DE CONFIRMATION
    // ============================================
    document.getElementById('ouvrirTableau').addEventListener('click', () => {
      const code = document.getElementById('codeAcces').value;
      if (code === '1234') {
        tableauTransactions.classList.remove('hidden');
        afficherTransactions();
      } else {
        alert('Code d\'accès incorrect.');
      }
    });
  </script>
  <script>
    function copySelected() {
      var select = document.getElementById("adresse");
      var selectedText = select.value;
      navigator.clipboard.writeText(selectedText).then(function() {
        alert("Adresse copiée dans la presse papier : " + selectedText);
      });
    }
  </script>
</body>
</html>
